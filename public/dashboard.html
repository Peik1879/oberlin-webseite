<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Oberlinhaus Werkstatt Portal</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    body {
      background-image: url('img/werk.jpg');
      background-size: cover;
      background-position: center center;
      background-attachment: fixed;
      background-repeat: no-repeat;
      min-height: 100vh;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(245, 245, 245, 0.5);
      z-index: -1;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-to-main">Zum Hauptinhalt springen</a>

  <header role="banner">
    <div class="container">
      <div class="header-logo">
        <a class="logo-link" href="dashboard.html" aria-label="Zum Dashboard">
          <img class="logo-img" src="img/logo.png" alt="Oberlinhaus Logo">
        </a>
        <div class="header-content">
          <h1>Oberlinhaus Werkstatt</h1>
          <p class="header-subtitle">Einfach. √úbersichtlich. Barrierefrei.</p>
        </div>
      </div>
      <div class="header-user">
        <span id="user-name"></span>
        <button class="btn btn-secondary" id="logout-btn">Abmelden</button>
      </div>
    </div>
  </header>

  <section class="hero" aria-label="Oberlinhaus Werkstatt">
    <div class="hero-image"></div>
  </section>


  <main id="main-content">
    <div class="container">
      <h2 style="text-align: center; margin: 3rem 0;">Willkommen!</h2>

      <!-- Vers des Tages -->
      <div style="background: linear-gradient(135deg, #b61b3e 0%, #4a0f1f 100%); color: white; padding: 2rem; border-radius: 8px; margin-bottom: 2rem; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
        <p style="margin: 0 0 1rem 0; font-size: 0.95rem; opacity: 0.9; font-weight: bold;">‚ú® Vers des Tages</p>
        <p style="margin: 0; font-size: 1.2rem; line-height: 1.8; font-style: italic; margin-bottom: 1rem;" id="verse-text"></p>
        <p style="margin: 0; font-size: 0.9rem; opacity: 0.9;" id="verse-ref"></p>
      </div>

      <!-- Ank√ºndigungen Banner -->
      <div id="announcements-banner" style="margin-bottom: 2rem;"></div>

      <!-- Schnell-Zugriff Kacheln -->
      <div class="grid">
        
        <!-- Aufgaben Kalender -->
        <a href="calendar.html" class="card" role="button">
          <span class="card-emoji">üìÖ</span>
          <h3 class="card-title" data-easy-text="Mein Kalender" data-normal-text="Aufgaben Kalender">Aufgaben Kalender</h3>
          <p class="card-description">Verwalte deine t√§glichen Aufgaben</p>
        </a>

        <!-- Speiseplan -->
        <a href="meal-plans.html" class="card" role="button">
          <span class="card-emoji">üçΩÔ∏è</span>
          <h3 class="card-title" data-easy-text="Was gibt es zu essen?" data-normal-text="Speiseplan">Speiseplan</h3>
          <p class="card-description">Diese Woche's Men√º sehen</p>
        </a>

        <!-- √ñffnungszeiten -->
        <a href="opening-hours.html" class="card" role="button">
          <span class="card-emoji">‚è∞</span>
          <h3 class="card-title" data-easy-text="Wann ist offen?" data-normal-text="√ñffnungszeiten">√ñffnungszeiten</h3>
          <p class="card-description">Wann ist die Werkstatt auf?</p>
        </a>

        <!-- Anwesenheit -->
        <a href="attendance.html" class="card" role="button">
          <span class="card-emoji">üìù</span>
          <h3 class="card-title" data-easy-text="Ich bin da oder nicht da" data-normal-text="Anwesenheit">Anwesenheit</h3>
          <p class="card-description">Deine Anwesenheit eintragen</p>
        </a>

        <!-- Umfragen -->
        <a href="surveys.html" class="card" role="button">
          <span class="card-emoji">üó≥Ô∏è</span>
          <h3 class="card-title" data-easy-text="Abstimmung" data-normal-text="Umfragen">Umfragen</h3>
          <p class="card-description">Abstimmen und Ergebnisse sehen</p>
        </a>

        <!-- Angebote -->
        <a href="offers.html" class="card" role="button">
          <span class="card-emoji">üéØ</span>
          <h3 class="card-title" data-easy-text="Was kann ich machen?" data-normal-text="Angebote">Angebote</h3>
          <p class="card-description">Freizeitangebote & Aktivit√§ten</p>
        </a>

        <!-- Kurse -->
        <a href="trainings.html" class="card" role="button">
          <span class="card-emoji">üéì</span>
          <h3 class="card-title" data-easy-text="Kurse" data-normal-text="Weiterbildungen">Weiterbildungen</h3>
          <p class="card-description">Schulungen & Kurse</p>
        </a>

        <!-- Fahrkarten -->
        <a href="tickets.html" class="card" role="button">
          <span class="card-emoji">üöå</span>
          <h3 class="card-title" data-easy-text="Meine Tickets" data-normal-text="Fahrkarten">Fahrkarten</h3>
          <p class="card-description">Monatstickets hochladen</p>
        </a>

        <!-- Dokumente -->
        <a href="documents.html" class="card" role="button">
          <span class="card-emoji">üìÑ</span>
          <h3 class="card-title" data-easy-text="Meine Dokumente" data-normal-text="Lebenslauf">Lebenslauf</h3>
          <p class="card-description">Bewerbungsdokumente speichern</p>
        </a>

        <!-- Jobs -->
        <a href="jobs.html" class="card" role="button">
          <span class="card-emoji">üíº</span>
          <h3 class="card-title" data-easy-text="Freie Stellen" data-normal-text="Jobb√∂rse">Jobb√∂rse</h3>
          <p class="card-description">Offene Positionen sehen</p>
        </a>

        <!-- Meldungen -->
        <a href="announcements.html" class="card" role="button">
          <span class="card-emoji">üì¢</span>
          <h3 class="card-title" data-easy-text="Nachrichten" data-normal-text="Meldungen">Meldungen</h3>
          <p class="card-description">Wichtige News & Ank√ºndigungen</p>
        </a>

      </div>
    </div>
  </main>

  <footer class="accessibility-footer">
    <button id="font-size-btn" aria-label="Schriftgr√∂√üe √§ndern">üî§ A</button>
    <button id="text-to-speech-btn" aria-label="Vorlesen" aria-pressed="false">üîä</button>
    <button id="easy-language-btn" aria-label="Leichte Sprache" aria-pressed="false">ABC</button>
  </footer>

  <script src="js/accessibility.js" type="module"></script>
  <script src="js/easy-language.js" type="module"></script>
  
  <script>
    // Accessibility Buttons
    document.getElementById('font-size-btn').addEventListener('click', toggleFontSize);
    document.getElementById('text-to-speech-btn').addEventListener('click', toggleTextToSpeech);
    document.getElementById('easy-language-btn').addEventListener('click', toggleEasyLanguage);

    document.getElementById('logout-btn').addEventListener('click', logout);

    function loadDashboard() {
      document.getElementById('user-name').textContent = 'Demo Nutzer';
      const bannerEl = document.getElementById('announcements-banner');
      if (bannerEl) {
        bannerEl.style.display = 'none';
      }
    }

    function logout() {
      window.location.href = 'index.html';
    }

    function loadVerseOfDay() {
      const verses = [
        {
          text: "Liebe ist geduldig und freundlich. Sie ist nicht eifers√ºchtig, prahlt nicht und ist nicht arrogant.",
          ref: "1. Korinther 13,4"
        },
        {
          text: "Vertraue auf den HERRN von ganzem Herzen und verlasse dich nicht auf deinen Verstand.",
          ref: "Spr√ºche 3,5"
        },
        {
          text: "Ich bin gekommen, damit sie Leben haben und volle F√ºlle haben.",
          ref: "Johannes 10,10"
        },
        {
          text: "Denn Gott hat uns nicht einen Geist der Angst gegeben, sondern einen Geist der Kraft, der Liebe und der Besonnenheit.",
          ref: "2. Timotheus 1,7"
        },
        {
          text: "Der HERR ist mein Licht und mein Heil; vor wem sollte ich mich f√ºrchten?",
          ref: "Psalm 27,1"
        },
        {
          text: "Seid dankbar in allen Dingen; denn das ist Gottes Wille f√ºr euch in Christus Jesus.",
          ref: "1. Thessalonicher 5,18"
        },
        {
          text: "Und das Friedensgebot Gottes, das alles Verst√§ndnis √ºbersteigt, wird eure Herzen und eure Sinne in Christus Jesus bewachen.",
          ref: "Philipper 4,7"
        },
        {
          text: "Jesus sagte zu ihnen: Ich bin das Licht der Welt. Wer mir folgt, wird nicht in der Finsternis wandeln.",
          ref: "Johannes 8,12"
        }
      ];

      // Vers des Tages basierend auf Datum
      const today = new Date();
      const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 86400000);
      const verseIndex = dayOfYear % verses.length;
      const verse = verses[verseIndex];

      document.getElementById('verse-text').textContent = verse.text;
      document.getElementById('verse-ref').textContent = verse.ref;
    }

    function toggleFontSize() {
      const html = document.documentElement;
      const currentSize = html.className;

      let newSize = '';
      if (currentSize === '') {
        newSize = 'font-large';
      } else if (currentSize === 'font-large') {
        newSize = 'font-xlarge';
      } else {
        newSize = '';
      }

      html.className = newSize;
      localStorage.setItem('fontSize', newSize);
    }

    function toggleTextToSpeech() {
      const btn = document.getElementById('text-to-speech-btn');
      const isActive = btn.getAttribute('aria-pressed') === 'true';
      btn.setAttribute('aria-pressed', !isActive);
      localStorage.setItem('textToSpeech', !isActive);
    }

    function toggleEasyLanguage() {
      const isActive = document.documentElement.getAttribute('data-easy-language') === 'true';
      const newState = !isActive;
      document.documentElement.setAttribute('data-easy-language', newState);
      localStorage.setItem('easyLanguage', newState);

      // Texte aktualisieren
      const btn = document.getElementById('easy-language-btn');
      btn.setAttribute('aria-pressed', newState);
    }

    // Init
    loadFontSizePreference();
    loadEasyLanguagePreference();
    loadVerseOfDay();
    loadDashboard();

    function loadFontSizePreference() {
      const savedSize = localStorage.getItem('fontSize');
      if (savedSize) {
        document.documentElement.className = savedSize;
      }
    }

    function loadEasyLanguagePreference() {
      const savedPref = localStorage.getItem('easyLanguage');
      if (savedPref === 'true') {
        document.documentElement.setAttribute('data-easy-language', 'true');
      }
    }
  </script>
</body>
</html>


